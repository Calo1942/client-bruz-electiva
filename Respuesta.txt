"<!doctype html>\n<html lang=\"es\">\n\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>Productos</title>\n    \n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"src/assets/css/style.css?v=3\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css\">\n    <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;500&display=swap\" rel=\"stylesheet\">\n    <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/sweetalert2@11.26.3/dist/sweetalert2.min.css\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\">\n</head>\n\n<body>\n    <!-- Barra lateral -->\n    <div class=\"p-0 bg-dark sidebar\">\n        <div class=\"d-flex flex-column flex-shrink-0 p-3 text-white bg-dark h-100\" style=\"width: 280px;\">\n    <!-- Logo o título del sidebar -->\n    <a class=\"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none\" >\n        <!-- Aquí podrías poner un ícono o div para color rojo -->\n        <span class=\"brand-title ms-2\">BRUZTEXTIL</span>\n    </a>\n    <hr>\n    <!-- Menú principal de navegación -->\n    <ul class=\"nav nav-pills flex-column mb-auto\">\n        <!-- \n        <li class=\"nav-item\">\n            <a href=\"?url=client\" class=\"nav-link text-white \" aria-current=\"page\">\n                <i class=\"bi bi-house me-2\"></i> \n                Inicio\n            </a>\n        </li>\n        -->\n        \n        <li>\n            <a href=\"?url=category\" class=\"nav-link text-white \">\n                <i class=\"bi bi-tags me-2\"></i>\n                Categoria\n            </a>\n        </li>\n\n        <li>\n            <a href=\"?url=product\" class=\"nav-link text-white active\">\n                <i class=\"bi bi-box me-2\"></i>\n                Productos\n            </a>\n        </li>\n\n        <!-- \n        <li>\n            <a href=\"?url=custom\" class=\"nav-link text-white \">\n                <i class=\"bi bi-palette2 me-2\"></i>\n                Personalizado\n            </a>\n        </li>\n        -->\n\n        <li>\n            <!-- Link a Clientes, activa si estamos en 'client' -->\n            <a href=\"?url=client\" class=\"nav-link text-white \">\n                <i class=\"bi bi-person-lines-fill me-2\"></i> <!-- Icono clientes -->\n                Clientes\n            </a>\n        </li>\n        \n    </ul>\n    <hr>\n</div>\n\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Obtener el enlace de inventario\n    const inventoryLink = document.querySelector('a[href=\"?url=inventory\"]');\n    \n    if (inventoryLink) {\n        inventoryLink.addEventListener('click', function(e) {\n            // Prevenir el comportamiento por defecto\n            e.preventDefault();\n            \n            // Obtener el submenu\n            const submenu = document.getElementById('inventario-submenu');\n            \n            // Alternar el estado del submenu\n            if (submenu) {\n                const bsCollapse = new bootstrap.Collapse(submenu, {\n                    toggle: true\n                });\n            }\n            \n            // Redirigir a la página de inventario después de un pequeño delay\n            setTimeout(function() {\n                window.location.href = '?url=inventory';\n            }, 100);\n        });\n    }\n});\n</script>\n    </div>\n\n    <!-- Contenedor principal -->\n    <div class=\"flex-grow-1 d-flex flex-column\">\n\n        <!-- Contenido del navbar -->\n        <nav class=\"navbar navbar-light bg-light py-1 px-1\">\n  <div class=\"container-fluid\">\n    <!-- Logo y marca de la empresa -->\n    <a class=\"navbar-brand\" href=\"#\">\n      <img src=\"src/assets/img/logo.jpeg\" alt=\"Logo BruzTextil\" style=\"height: 53px;\">\n    </a>\n    <!-- Formulario de búsqueda \n    <form class=\"d-flex\">\n      <input \n        class=\"form-control me-2\" \n        type=\"search\" \n        placeholder=\"Buscar\" \n        aria-label=\"Search\"\n      >\n      <button class=\"btn btn-guardar\" type=\"submit\">Buscar</button>\n    </form>\n    -->\n  </div>\n</nav>\n\n\n\n\n\n\n\n\n        <!-- Contenido principal -->\n        <main class=\"flex-grow-1 p-4 bg-light\">\n            <div class=\"d-flex align-items-center justify-content-between mb-3\">\n    <!-- Título y botón para abrir modal de agregar producto -->\n    <h2 class=\"me-2 mb-0 titulo\">Productos</h2>\n    <button class=\"btn btn-agregar\" data-bs-toggle=\"modal\" data-bs-target=\"#agregarProductoModal\">\n        Agregar <i class=\"bi bi-plus-lg icon-center\"></i>\n    </button>\n</div>\n<div class=\"table-responsive\">\n    <!-- Tabla compatible con DataTable -->\n    <table id=\"productTable\" class=\"table table-striped table-hover\">\n        <thead class=\"table-dark\">\n            <tr>\n                <!-- Encabezados de la tabla -->\n                <th>ID</th>\n                <th>Nombre</th>\n                <th>Imagen</th>\n                <th>Categoría</th>\n                <th>Stock</th>\n                <th>Precio al Detal</th>\n                <th>Precio al Mayor</th>\n                <th>Descripción</th>\n                <th>Acciones</th>\n            </tr>\n        </thead>\n        <tbody>\n            <!-- Los datos se cargarán dinámicamente via AJAX -->\n        </tbody>\n    </table>\n</div>        </main>\n\n        <!-- Scripts principales -->\n        \n    <script src=\"https://code.jquery.com/jquery-3.7.0.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js\"></script>\n    <script src=\"https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/sweetalert2@11.26.3/dist/sweetalert2.all.min.js\"></script>\n        \n        <script>\n            // Definir URL del API para productos (misma página)\n            window.productApiUrl = '';\n        </script>\n        \n        <script type=\"module\" src=\"src/assets/js/product/productValidation.js\"></script>\n        \n        <script type=\"module\" src=\"src/assets/js/product/productDataTable.js\"></script>\n\n        <!-- Modales -->\n        <div class=\"modal fade\" id=\"agregarProductoModal\" tabindex=\"-1\" aria-labelledby=\"agregarProductoModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n            <!-- Formulario para agregar un nuevo producto -->\n            <form id=\"formAgregarProducto\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"agregarProductoModalLabel\">Agregar Producto</h5>\n                    <!-- Botón para cerrar el modal -->\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Cerrar\"></button>\n                </div>\n\n                <div class=\"modal-body\">\n                    <div class=\"row g-3\">\n                        <!-- Campo para nombre del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <input type=\"text\" class=\"form-control\" id=\"nombreProducto\" name=\"nombre\" placeholder=\"Nombre\" required>\n                                <label for=\"nombreProducto\">Nombre</label>\n                            </div>\n                        </div>\n\n                        <!-- Selector para categoría del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <select class=\"form-select\" id=\"categoriaProducto\" name=\"id_categoria\" required>\n                                    <option value=\"\">Seleccione una categoría</option>\n                                                                            <option value=\"20\">\n                                            Cartoon Network                                        </option>\n                                                                            <option value=\"2\">\n                                            Categoría Dos                                        </option>\n                                                                    </select>\n                                <label for=\"categoriaProducto\">Categoría</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para descripción del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <textarea class=\"form-control\" id=\"descripcionProducto\" name=\"descripcion\" style=\"height: 100px\"></textarea>\n                                <label for=\"descripcionProducto\">Descripción</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para stock del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <input type=\"number\" class=\"form-control\" id=\"stockProducto\" name=\"stock\" min=\"0\" placeholder=\"Stock\" required>\n                                <label for=\"stockProducto\">Stock</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para precio de venta al detalle -->\n                        <div class=\"col-12\">\n                            <div class=\"input-group w-75 mx-auto\">\n                                <span class=\"input-group-text bg-transparent\">$</span>\n                                <div class=\"form-floating flex-grow-1\">\n                                    <input type=\"number\" class=\"form-control\" id=\"detalProducto\" name=\"precio_detal\" step=\"0.01\" min=\"0\" placeholder=\"Precio Detal\" required>\n                                    <label for=\"detalProducto\">Precio al Detal</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Campo para precio de venta al por mayor -->\n                        <div class=\"col-12\">\n                            <div class=\"input-group w-75 mx-auto\">\n                                <span class=\"input-group-text bg-transparent\">$</span>\n                                <div class=\"form-floating flex-grow-1\">\n                                    <input type=\"number\" class=\"form-control\" id=\"mayorProducto\" name=\"precio_mayor\" step=\"0.01\" min=\"0\" placeholder=\"Precio Mayor\">\n                                    <label for=\"mayorProducto\">Precio al por mayor (opcional)</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Campo para imagen del producto -->\n                        <div class=\"col-12\">\n                            <label for=\"imagenProducto\" class=\"form-label\">Imagen del Producto (opcional)</label>\n                            <input type=\"file\" class=\"form-control\" id=\"imagenProducto\" name=\"imagen\" accept=\"image/jpeg,image/png,image/gif,image/webp\">\n                            <div class=\"form-text\">Formatos aceptados: JPEG, PNG, GIF, WebP. Tamaño máximo: 5MB</div>\n                            <div class=\"mt-2 image-preview-container\">\n                                <img id=\"previewImagenProducto\" src=\"\" alt=\"Vista previa\" style=\"max-width: 200px; max-height: 200px; display: none; border-radius: 8px; margin-top: 10px;\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"modal-footer\">\n                    <!-- Botón para cancelar y cerrar modal -->\n                    <button type=\"button\" class=\"btn btn-cancelar\" data-bs-dismiss=\"modal\">Cancelar</button>\n                    <!-- Botón para enviar formulario y guardar producto -->\n                    <button type=\"submit\" name=\"store\" class=\"btn btn-guardar\">Guardar</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n        <!-- Modal para editar producto -->\n<div class=\"modal fade\" id=\"editarProductoModal\" tabindex=\"-1\" aria-labelledby=\"editarProductoModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n            <!-- Formulario para editar un producto existente -->\n            <form id=\"formEditarProducto\" action=\"\" method=\"POST\" enctype=\"multipart/form-data\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"editarProductoModalLabel\">Editar Producto</h5>\n                    <!-- Botón para cerrar el modal -->\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Cerrar\"></button>\n                </div>\n\n                <div class=\"modal-body\">\n                    <div class=\"row g-3\">\n                        <!-- Campo oculto para el ID del producto -->\n                        <input type=\"hidden\" id=\"editarProductoId\" name=\"id_producto\">\n                        \n                        <!-- Campo para nombre del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <input type=\"text\" class=\"form-control\" id=\"editarNombreProducto\" name=\"nombre\" placeholder=\"Nombre\" required>\n                                <label for=\"editarNombreProducto\">Nombre</label>\n                            </div>\n                        </div>\n\n                        <!-- Selector para categoría del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <select class=\"form-select\" id=\"editarCategoriaProducto\" name=\"id_categoria\" required>\n                                    <option value=\"\">Seleccione una categoría</option>\n                                                                            <option value=\"20\">\n                                            Cartoon Network                                        </option>\n                                                                            <option value=\"2\">\n                                            Categoría Dos                                        </option>\n                                                                    </select>\n                                <label for=\"editarCategoriaProducto\">Categoría</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para descripción del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <textarea class=\"form-control\" id=\"editarDescripcionProducto\" name=\"descripcion\" style=\"height: 100px\"></textarea>\n                                <label for=\"editarDescripcionProducto\">Descripción</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para stock del producto -->\n                        <div class=\"col-12\">\n                            <div class=\"form-floating\">\n                                <input type=\"number\" class=\"form-control\" id=\"editarStockProducto\" name=\"stock\" min=\"0\" placeholder=\"Stock\" required>\n                                <label for=\"editarStockProducto\">Stock</label>\n                            </div>\n                        </div>\n\n                        <!-- Campo para precio de venta al detalle -->\n                        <div class=\"col-12\">\n                            <div class=\"input-group w-75 mx-auto\">\n                                <span class=\"input-group-text bg-transparent\">$</span>\n                                <div class=\"form-floating flex-grow-1\">\n                                    <input type=\"number\" class=\"form-control\" id=\"editarDetalProducto\" name=\"precio_detal\" step=\"0.01\" min=\"0\" placeholder=\"Precio Detal\" required>\n                                    <label for=\"editarDetalProducto\">Precio al Detal</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Campo para precio de venta al por mayor -->\n                        <div class=\"col-12\">\n                            <div class=\"input-group w-75 mx-auto\">\n                                <span class=\"input-group-text bg-transparent\">$</span>\n                                <div class=\"form-floating flex-grow-1\">\n                                    <input type=\"number\" class=\"form-control\" id=\"editarMayorProducto\" name=\"precio_mayor\" step=\"0.01\" min=\"0\" placeholder=\"Precio Mayor\">\n                                    <label for=\"editarMayorProducto\">Precio al por mayor (opcional)</label>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Campo para imagen del producto -->\n                        <div class=\"col-12\">\n                            <label for=\"editarImagenProducto\" class=\"form-label\">Imagen del Producto</label>\n                            <input type=\"file\" class=\"form-control\" id=\"editarImagenProducto\" name=\"imagen\" accept=\"image/jpeg,image/png,image/gif,image/webp\">\n                            <div class=\"form-text\">Deje vacío para mantener la imagen actual. Formatos aceptados: JPEG, PNG, GIF, WebP. Tamaño máximo: 5MB</div>\n                            <div class=\"mt-2\">\n                                <div id=\"imagenActualProducto\" style=\"margin-top: 10px;\">\n                                    <p class=\"text-muted small\">Imagen actual:</p>\n                                    <div class=\"image-preview-container\">\n                                        <img id=\"previewImagenActual\" src=\"\" alt=\"Imagen actual\" style=\"max-width: 200px; max-height: 200px; border-radius: 8px; display: none;\">\n                                    </div>\n                                </div>\n                                <div class=\"image-preview-container\">\n                                    <img id=\"previewNuevaImagenProducto\" src=\"\" alt=\"Vista previa nueva imagen\" style=\"max-width: 200px; max-height: 200px; display: none; border-radius: 8px; margin-top: 10px;\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"modal-footer\">\n                    <!-- Botón para cancelar y cerrar modal -->\n                    <button type=\"button\" class=\"btn btn-cancelar\" data-bs-dismiss=\"modal\">Cancelar</button>\n                    <!-- Botón para enviar formulario y actualizar producto -->\n                    <button type=\"submit\" name=\"update\" class=\"btn btn-guardar\">Actualizar</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n        <div class=\"modal fade\" id=\"verProductoModal\" tabindex=\"-1\" aria-labelledby=\"verProductoModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-lg modal-dialog-scrollable\">\n        <div class=\"modal-content border-0 rounded-3 shadow\">\n            <!-- Header del modal con título y botón para cerrar -->\n            <div class=\"modal-header border-bottom\">\n                <h5 class=\"modal-title fw-bold\" id=\"verProductoModalLabel\">Detalles del Producto</h5>\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n\n            <!-- Cuerpo del modal que muestra la información del producto -->\n            <div class=\"modal-body\">\n                <div class=\"row g-4\">\n                    <!-- Columna con los detalles del producto -->\n                    <div class=\"col-12\">\n                        <!-- Nombre del producto -->\n                        <h2 class=\"fs-3 fw-bold mb-4\" id=\"verNombreProducto\"></h2>\n\n                        <!-- Imagen del producto -->\n                        <div class=\"mb-4 text-center\">\n                            <img id=\"verImagenProducto\" src=\"\" alt=\"Imagen del producto\" style=\"max-width: 300px; max-height: 300px; border-radius: 8px; object-fit: cover; display: none; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n                        </div>\n\n                        <!-- Sección con detalles adicionales -->\n                        <div class=\"row g-3\">\n                            <div class=\"col-md-6\">\n                                <div class=\"card border-0 bg-light\">\n                                    <div class=\"card-body\">\n                                        <p class=\"mb-1 text-muted fw-bold\">Categoría:</p>\n                                        <p class=\"mb-3\" id=\"verCategoriaProducto\"></p>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"col-md-6\">\n                                <div class=\"card border-0 bg-light\">\n                                    <div class=\"card-body\">\n                                        <p class=\"mb-1 text-muted fw-bold\">Precio Detal:</p>\n                                        <h4 class=\"fw-bold text-dark\" id=\"verPrecioDetalProducto\"></h4>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"col-md-6\">\n                                <div class=\"card border-0 bg-light\">\n                                    <div class=\"card-body\">\n                                        <p class=\"mb-1 text-muted fw-bold\">Precio Mayor:</p>\n                                        <h4 class=\"fw-bold text-dark\" id=\"verPrecioMayorProducto\"></h4>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"col-md-6\">\n                                <div class=\"card border-0 bg-light\">\n                                    <div class=\"card-body\">\n                                        <p class=\"mb-1 text-muted fw-bold\">Stock:</p>\n                                        <h4 class=\"fw-bold text-dark\" id=\"verStockProducto\"></h4>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"col-12\">\n                                <div class=\"card border-0 bg-light\">\n                                    <div class=\"card-body\">\n                                        <p class=\"mb-1 text-muted fw-bold\">Descripción:</p>\n                                        <p class=\"mb-0\" id=\"verDescripcionProducto\"></p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Footer del modal con botón para cerrar -->\n            <div class=\"modal-footer border-top\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cerrar</button>\n            </div>\n        </div>\n    </div>\n</div>\n    </div>\n\n</body>\n\n</html>"